@model Sitecore.Security.Accounts.User

@if (Model == null)
{
    <div id="loginBox">
        @using (Html.BeginRouteForm(Sitecore.Mvc.Configuration.MvcSettings.SitecoreRouteName, FormMethod.Post))
        {
            @Html.Sitecore().FormHandler("Home", "Login")
            <div id="loginBoxHomeTop">
                <h2> Login</h2>
                <div class="InputLogin">
                    <!--Login Input-->
                    <fieldset>
                        <legend>
                            Search
                        </legend>
                        <div class="SelectInput">
                            <input class="InputHome LightScheme" type="text" id="userName" name="userName" placeholder="Username" required/>
                        </div>
                        <div class="SelectInput">
                            <input class="InputHome LightScheme" type="password" id="password" name="password" placeholder="Password" required/>
                        </div>
                        <p class="ForgotPass">
                            <a href="/ForgotPassword">Forgot password?</a>
                        </p>
                    </fieldset>
                </div>
            </div>
            <!--Login Fail-->
            <div class="LoginBoxHomeHidden PaddingHiddenHome">
                <div class="LoginButtonLeft">
					<div class="LoginButtonRight">
						<input type="button" value="Register" class="CommonFormBtn LoginButton" onclick="location.href='/Register'" />
					</div>
    			</div>
                <div class="LoginButtonLeft">
                    <div class="LoginButtonRight">
                        <input type="submit" value="Login" class="CommonFormBtn LoginButton" />
                    </div>
                </div>
                <div class="Clr"></div>
                <label>
                    @ViewBag.PasswordChanged
                </label>
                <label>
                    @ViewBag.LoginFailMessage
                </label>
            </div>
        }
    </div>
}
else
{
    <div id="loginBox">
        @using (Html.BeginRouteForm(Sitecore.Mvc.Configuration.MvcSettings.SitecoreRouteName))
        {
            @Html.Sitecore().FormHandler("Home", "Logout")
            <div id="loginBoxSuccess">
                <h3>
                    You are Logged :-)
                </h3>
                <p class="WelcomeText DarkScheme">
                    Welcome <a href="" class="DarkScheme">@Model.Profile.FullName</a> !
                </p>
                <!--Change-->
                <div class="LogoutButtonLeft">
                    <div class="LogoutButtonRight">
                        <input type="submit" value="Logout" class="CommonFormBtn LogoutButton" />
                    </div>
                </div>
                <!--Change-->
            </div>
        }
    </div>
}